{% extends 'base.html.twig' %}
{% block title %}
  School Assessments View
{% endblock %}

{% block stylesheet %}
<style>

</style>
{% endblock %}

{% block body %}
  <div class="wide_container" id="view_container">
    <h1>{{ school_session.courseId.courseName ~ ' (' ~ school_session.courseId.courseCode | upper ~ ')' }} Results</h1>


    <h2>
      Prerequisites:
      {% for prerequisite in prerequisites %}
      {{ prerequisite.prerequisiteCourseId.courseName ~ ', ' }}
      {% endfor %}
    </h2>

    <table border="0" id="wide_table">
      <thead>
        <tr>
          <th>Addmission Number</th>
          <th>Assessment Result Student</th>

          <th>
            {% set assessmentWorthTotal = 0 %}
            {% for assessment_type in assessment_types %}
                {% set assessmentWorthTotal = assessmentWorthTotal + assessment_type.assessmentWorth %}
            {% endfor %}

            Total ({{ assessmentWorthTotal }}%)
          </th>

          <th>Grade</th>
          <th>Remark</th>
        </tr>
      </thead>

      <tbody>
        {% for session_result in session_results %}
          <tr>
            <td id="total_row">
              {{  session_result.studentId.admissionNumber }}
            </td>

            <td>
              {{ session_result.studentId.firstNameEn ~ ' ' ~ session_result.studentId.middleNameEn ~ ' ' ~ session_result.studentId.lastNameEn }}
            </td>

            <td>
              {{ session_result.resultInNumber }}
            </td>

            <td>
              {{ session_result.resultInAlphabet }}
            </td>

            <td>
              {{  session_result.sessionResultRemark | capitalize }}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
